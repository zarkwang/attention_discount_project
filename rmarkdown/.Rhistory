tinytex::install_tinytex()
rmarkdown::render("lifecycleCN.Rmd", params = "ask")
rmarkdown::render("lifecycleCN.Rmd", params = "ask")
rmarkdown::render("lifecycleCN.Rmd", params = "ask")
rmarkdown::render("lifecycleCN.Rmd", params = "ask")
rmarkdown::render("lifecycleCN.Rmd", params = "ask")
rmarkdown::render("E:/Research Interest/lifecycle/rmarkdown/lifecycleCN.Rmd", params = "ask")
install.packages(xaringan)
install.packages('xaringan')
install.packages("bookdown")
install.packages("bookdown")
xaringan::inf_mr()
xaringan::inf_mr()
argument "moon" is missing, with no default
xaringan::inf_mr()
library(xaringan)
?xaringan::moon_reader
xaringan::inf_mr()
devtools::install_github('yihui/xaringan')
install.packages('devtools')
library(rmarkdown)
pandoc_merge(c("attention_discounting.md", "appendix.md"), "output.Rmd")
rmarkdown::pandoc_merge(c("attention_discounting.md", "appendix.md"), "output.Rmd")
tinytex::reinstall_tinytex(repository = "illinois")
tinytex::reinstall_tinytex(repository = "illinois")
11*0.05
11*0.056
85*0.056
85*0.05
85*0.055
85/11
4.7/0.6
4/6/0.6
4.6/0.6
1/e
1/exp{1}
exp(1)
1/exp(3)
exp(-3)
exp(-6)
1/6
---
title: "Empirical Test"
1.03^10
1.03^2
library(tidyverse)
library(haven)
read_dta('E:\[Data analysis Example]\CHFS\chfs2011_ind_20191120_version14')
read_dta('E:/[Data analysis Example]/CHFS/chfs2011_ind_20191120_version14')
read_dta('E:/[Data analysis Example]/CHFS/chfs2011_ind_20191120_version14.dta')
dt_2011 <- read_dta('E:/[Data analysis Example]/CHFS/chfs2011_ind_20191120_version14.dta')
dt_2011
View(dt_2011)
str(dt_2011)
dt_2011$labor_inc
dt_2011$labor_inc
dt_2011$labor_inc
# 2008 tax
tax_excluded_inc_limit <- c(475,1825,4375,16375,31375,45375,58375,70375)
deduct <- c(0,25,125,375,1375,3375,6375,10375,15375)
tax_rate <- c(5,10,15,20,25,30,35,40,45)
# 2008 tax
min_tax_inc <- 2000
tax_excluded_inc_limit <- c(0,475,1825,4375,16375,31375,45375,58375,70375)
deduct <- c(0,25,125,375,1375,3375,6375,10375,15375)
tax_rate <- c(5,10,15,20,25,30,35,40,45)
findInterval(inc-min_tax_inc,tax_excluded_inc_limit)
inc = 6000
findInterval(inc-min_tax_inc,tax_excluded_inc_limit)
idx <- findInterval(inc-min_tax_inc,tax_excluded_inc_limit)
deduct[idx]
idx <- findInterval(inc-min_tax_inc,tax_excluded_inc_limit)
(inc - deduct[idx] - min_tax_inc* tax_rate[idx])/(1-tax_rate[idx])
tax_rate <- c(5,10,15,20,25,30,35,40,45)*0.01
inc = 6000
idx <- findInterval(inc-min_tax_inc,tax_excluded_inc_limit)
(inc - deduct[idx] - min_tax_inc* tax_rate[idx])/(1-tax_rate[idx])
# 2008 tax
dt_year = 2011
if(dt_year<=2011){
min_tax_inc <- 2000
tax_excluded_inc_limit <- c(0,475,1825,4375,16375,31375,45375,58375,70375)
deduct <- c(0,25,125,375,1375,3375,6375,10375,15375)
tax_rate <- c(5,10,15,20,25,30,35,40,45)*0.01
} else if(dt_year){}
inc = 6000
idx <- findInterval(inc-min_tax_inc,tax_excluded_inc_limit)
(inc - deduct[idx] - min_tax_inc* tax_rate[idx])/(1-tax_rate[idx])
tax_code_08 <- list(min_tax_inc <- 2000,
tax_excluded_inc_limit <- c(0,475,1825,4375,16375,31375,45375,58375,70375),
deduct <- c(0,25,125,375,1375,3375,6375,10375,15375),
tax_rate <- c(5,10,15,20,25,30,35,40,45)*0.01
)
tax_code_11 <- list(min_tax_inc <- 3500,
tax_excluded_inc_limit <- c(0,1455,4155,8155,27655,41655,57905),
deduct <- c(0,105,555,1005,2755,5505,13505),
tax_rate <- c(3,10,20,25,30,35,45)*0.01
)
before_tax_inc <- function(inc,dt_year){
if(dt_year<=2011){
tax_code = tax_code_08
} else if(dt_year<=2018){
tax_code = tax_code_11
}
if(inc < min_tax_inc){
y = inc
} else{
idx = findInterval(inc-tax_code$min_tax_inc,tax_code$post_tax_inc_limit)
y = (inc - tax_code$deduct[idx] - tax_code$min_tax_inc*tax_code$tax_rate[idx])/(1-tax_code$tax_rate[idx])
}
return(y)
}
before_tax_inc(100000,2017)
before_tax_inc(100000,2015)
tax_code_11
tax_code_11$min_tax_inc
tax_code_08 <- list(min_tax_inc = 2000,
post_tax_inc_limit = c(0,475,1825,4375,16375,31375,45375,58375,70375),
deduct = c(0,25,125,375,1375,3375,6375,10375,15375),
tax_rate = c(5,10,15,20,25,30,35,40,45)*0.01
)
tax_code_08
tax_code_11 <- list(min_tax_inc = 3500,
post_tax_inc_limit = c(0,1455,4155,8155,27655,41655,57905),
deduct = c(0,105,555,1005,2755,5505,13505),
tax_rate = c(3,10,20,25,30,35,45)*0.01
)
before_tax_inc <- function(inc,dt_year){
if(dt_year<=2011){
tax_code = tax_code_08
} else if(dt_year<=2018){
tax_code = tax_code_11
}
if(inc < min_tax_inc){
y = inc
} else{
idx = findInterval(inc-tax_code$min_tax_inc,tax_code$post_tax_inc_limit)
y = (inc - tax_code$deduct[idx] - tax_code$min_tax_inc*tax_code$tax_rate[idx])/(1-tax_code$tax_rate[idx])
}
return(y)
}
before_tax_inc(100000,2015)
before_tax_inc(100000,2015)
before_tax_inc(c(100000,40000),2015)
