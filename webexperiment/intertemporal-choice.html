<!DOCTYPE html>
<html>
<head>
    <style>
        table {
            width: 90%;
            margin: 0 auto;
            border-collapse: collapse;
        }

        table, th, td {
            border: 1px solid black;
        }

        th, td {
            padding: 10px;
            text-align: center;
        }

        th {
            background-color: #f2f2f2;
        }

        .radio-container {
            display: flex;
            justify-content: center;
        }

        button {
            padding: 5px 10px;
        }

        #clickedButtons {
            text-align: center;
        }
    </style>
</head>
<body>
    <table>
        <thead>
            <tr>
                <th>Row Number</th>
                <th>Option A</th>
                <th>Choice</th>
                <th>Option B</th>
            </tr>
        </thead>
        <tbody id="priceListTable">
            <!-- Rows will be generated here using JavaScript -->
        </tbody>
    </table>

    <div id="buttonContainer"></div>

    <div id="clickedButtons">
        <h2>Clicked Buttons:</h2>
        <ul id="clickedButtonsList"></ul>
    </div>

    <script>
        var clickedButtonIds = [];

        // Function to generate the price list rows
        function generatePriceList() {
            var table = document.getElementById("priceListTable");
            for (var x = 1; x <= 200; x++) {
                var row = document.createElement("tr");

                var rowNumberCell = document.createElement("td");
                rowNumberCell.textContent = x;
                row.appendChild(rowNumberCell);

                if (x === 1) {
                    var optionACell = document.createElement("td");
                    optionACell.textContent = "Receive $30 today and $30 in 3 months";
                    optionACell.rowSpan = 200;
                    row.appendChild(optionACell);
                }

                var choiceCell = document.createElement("td");
                var radioContainer = document.createElement("div");
                radioContainer.className = "radio-container";

                var optionARadio = document.createElement("input");
                optionARadio.type = "radio";
                optionARadio.name = "choice_" + x;
                optionARadio.value = "Option A";
                optionARadio.id = "optionAButton_" + x;
                optionARadio.addEventListener("click", function () {
                    clickedButtonIds.push(this.id);
                    updateClickedButtonsList();
                    var currentRow = this.id.split("_")[1];
                    for (var i = 1; i < currentRow; i++) {
                        var optionABtn = document.getElementById("optionAButton_" + i);
                        if (optionABtn) {
                            optionABtn.checked = true;
                        }
                    }
                    for (var j = currentRow; j <= 200; j++) {
                        var optionBBtn = document.getElementById("optionBButton_" + j);
                        if (optionBBtn) {
                            optionBBtn.checked = true;
                        }
                    }
                    // Automatically click the "Show/Hide Rows" button
                    toggleRowsBasedOnChoice("optionA", x);
                });

                var optionBRadio = document.createElement("input");
                optionBRadio.type = "radio";
                optionBRadio.name = "choice_" + x;
                optionBRadio.value = "Option B";
                optionBRadio.id = "optionBButton_" + x;
                optionBRadio.addEventListener("click", function () {
                    clickedButtonIds.push(this.id);
                    updateClickedButtonsList();
                    var currentRow = this.id.split("_")[1];
                    for (var i = 1; i < currentRow; i++) {
                        var optionABtn = document.getElementById("optionAButton_" + i);
                        if (optionABtn) {
                            optionABtn.checked = true;
                        }
                    }
                    for (var j = currentRow; j <= 200; j++) {
                        var optionBBtn = document.getElementById("optionBButton_" + j);
                        if (optionBBtn) {
                            optionBBtn.checked = true;
                        }
                    }
                    // Automatically click the "Show/Hide Rows" button
                    toggleRowsBasedOnChoice("optionB", x);
                });

                var optionAButton = document.createElement("label");
                optionAButton.textContent = "Option A";
                optionAButton.htmlFor = "optionAButton_" + x;

                var optionBButton = document.createElement("label");
                optionBButton.textContent = "Option B";
                optionBButton.htmlFor = "optionBButton_" + x;

                radioContainer.appendChild(optionARadio);
                radioContainer.appendChild(optionAButton);
                radioContainer.appendChild(optionBRadio);
                radioContainer.appendChild(optionBButton);
                choiceCell.appendChild(radioContainer);
                row.appendChild(choiceCell);

                var optionBCell = document.createElement("td");
                optionBCell.textContent = "Receive $" + x + " today";
                row.appendChild(optionBCell);

                table.appendChild(row);
            }
        }

        // Function to update the list of clicked button IDs
        function updateClickedButtonsList() {
            var clickedButtonsList = document.getElementById("clickedButtonsList");
            clickedButtonsList.innerHTML = "";
            clickedButtonIds.forEach(function (id) {
                var listItem = document.createElement("li");
                listItem.textContent = id;
                clickedButtonsList.appendChild(listItem);
            });
        }

        // Call the function to generate the price list
        generatePriceList();

        // Function to show hidden rows within a range
        function toggleHiddenRows(start, end) {
            hideRowsWithNonIntegerCondition();
            for (var x = start; x <= end; x++) {
                var row = document.querySelector("tr:nth-child(" + x + ")");
                if (row) {
                    var isHidden = row.style.display === "none";
                    row.style.display = isHidden ? "table-row" : "none";
                }
            }
        }

        // Function to initially hide rows where x/10 is not an integer
        function hideRowsWithNonIntegerCondition() {
            for (var x = 1; x <= 200; x++) {
                if (x % 10 !== 0) {
                    var rowToHide = document.querySelector("tr:nth-child(" + x + ")");
                    if (rowToHide) {
                        rowToHide.style.display = "none";
                    }
                }
            }
        }

        // Function to toggle rows based on choice
        function toggleRowsBasedOnChoice(choice, currentRow) {
            var start, end;
            if (choice === "optionA") {
                start = currentRow + 1;
                end = currentRow + 8;
            } else if (choice === "optionB") {
                start = currentRow - 9;
                end = currentRow - 1;
            }
            toggleHiddenRows(start, end);
        }

        // Dynamically create buttons for specific ranges
        var buttonContainer = document.getElementById("buttonContainer");
        for (var i = 1; i <= 200; i += 10) {
            let start = i;
            let end = i + 8;
            var button = document.createElement("button");
            button.textContent = "Show/Hide Rows " + start + "-" + end;
            button.addEventListener("click", function () {
                toggleHiddenRows(start, end);
            });
            buttonContainer.appendChild(button);
        }
    </script>
</body>
</html>